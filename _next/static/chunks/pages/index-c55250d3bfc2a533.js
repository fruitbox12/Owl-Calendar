(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1159)}])},1159:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return sn}});var r=n(34051),a=n.n(r),s=n(85893),o=n(65988),u=n.n(o),i=n(67294),c=n(95712),p=n(9008);function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?d(e):t}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var y=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var x,w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,e);var t=g(n);function n(){var e;return l(this,n),f(d(e=t.apply(this,arguments)),"render",(function(){return(0,s.jsxs)(c.Z,{children:[(0,s.jsxs)(p.default,{children:[(0,s.jsx)("title",{children:"Owl Calendar"}),(0,s.jsx)("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.css"})]}),e.props.children]})})),e}return n}(i.Component),b=w,j=n(3283),C=n.n(j);if("undefined"!==typeof window.ethereum)window.ethereum.request({method:"eth_requestAccounts"}),x=new(C())(window.ethereum);else{var S=new(C().providers.HttpProvider)("https://rinkeby.infura.io/v3/36d64c099c50404692eb8be07f68db77");x=new(C())(S)}var M=x,E=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"calendarAddress","type":"address"}],"name":"addCalendar","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"name","type":"string"}],"name":"createCalendar","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCalendars","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"leaveCalendar","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"transferBalance","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),T=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"groupAddress","type":"address"}],"name":"addGroup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"gname","type":"string"},{"internalType":"string","name":"mname","type":"string"}],"name":"createGroup","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getGroups","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"leaveGroup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"transferBalance","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),k=JSON.parse('{"d":"0x66DE22a1b29D000f63815Cd7c8016d21204f9283","X":"0xF30266a24c157E7383c3a75fDA840C745d0B826f"}'),N=new M.eth.Contract(E.Mt,k.d),Z=new M.eth.Contract(T.Mt,k.X);function G(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){G(s,r,a,o,u,"next",e)}function u(e){G(s,r,a,o,u,"throw",e)}o(void 0)}))}}var A=function(){var e=O(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.eth.getAccounts();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=O(a().mark((function e(t,n,r){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=14;break}return e.next=3,A();case 3:return s=e.sent,r=C().utils.toWei(""+r,"ether"),e.prev=5,e.next=8,Z.methods.createGroup(t,n).send({from:s,value:r});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 14:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),D=function(){var e=O(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return t=e.sent,e.prev=3,e.next=6,Z.methods.getGroups().call({from:t});case 6:return n=e.sent,e.abrupt("return",{status:!0,result:{joinedGroups:n}});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{status:!1,reason:e.t0});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=O(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return e.next=3,A();case 3:return n=e.sent,e.prev=4,e.next=7,Z.methods.addGroup(t).send({from:n});case 7:return e.abrupt("return",{status:!0});case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 13:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=O(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return n=e.sent,e.prev=3,e.next=6,Z.methods.leaveGroup(t).send({from:n});case 6:return e.abrupt("return",{status:!0});case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",{status:!1,reason:e.t0});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),_=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"title","type":"string"},{"internalType":"address","name":"_manager","type":"address"},{"internalType":"string","name":"name","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"cooperator","type":"address"},{"internalType":"uint256","name":"permission","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"addCooperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"monthTimestamp","type":"uint256"},{"internalType":"uint256","name":"eventStartTimestamp","type":"uint256"},{"internalType":"uint256","name":"eventEndTimestamp","type":"uint256"},{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"addEvent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newManager","type":"address"}],"name":"changeManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"address","name":"cooperator","type":"address"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"deleteCooperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"monthTimestamp","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"deleteEvent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"getCalendarTitle","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"getCooperators","outputs":[{"internalType":"address[]","name":"_cooperators","type":"address[]"},{"internalType":"string[]","name":"names","type":"string[]"},{"internalType":"uint256[]","name":"permissions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"monthTimestamp","type":"uint256"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"getEvents","outputs":[{"internalType":"uint256[]","name":"eventStartTimestamps","type":"uint256[]"},{"internalType":"uint256[]","name":"eventEndTimestamps","type":"uint256[]"},{"internalType":"string[]","name":"titles","type":"string[]"},{"internalType":"string[]","name":"descriptions","type":"string[]"},{"internalType":"uint256[]","name":"indexes","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"title","type":"string"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"updateCalendarTitle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"cooperator","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"permission","type":"uint256"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"updateCooperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"monthTimestamp","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"eventStartTimestamp","type":"uint256"},{"internalType":"uint256","name":"eventEndTimestamp","type":"uint256"},{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"updateEvent","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),I=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"gname","type":"string"},{"internalType":"string","name":"mname","type":"string"},{"internalType":"address","name":"_manager","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"memberAddress","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"permission","type":"uint256"}],"name":"addMember","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newManager","type":"address"}],"name":"changeManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"address","name":"memberAddress","type":"address"}],"name":"deleteMember","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getGroupName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMembers","outputs":[{"internalType":"address[]","name":"membersAddress","type":"address[]"},{"internalType":"string[]","name":"names","type":"string[]"},{"internalType":"uint256[]","name":"permissions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"}],"name":"updateGroupName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"memberAddress","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"permission","type":"uint256"}],"name":"updateMember","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),J=function(e){return new M.eth.Contract(_.Mt,e)},R=function(e){return new M.eth.Contract(I.Mt,e)};function V(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){V(s,r,a,o,u,"next",e)}function u(e){V(s,r,a,o,u,"throw",e)}o(void 0)}))}}var H=function(){var e=F(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.eth.getAccounts();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){return{View:1,Admin:2}[e]},U=function(){var e=F(a().mark((function e(t,n,r,s){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r&&s)){e.next=15;break}return e.next=3,H();case 3:return o=e.sent,s=B(s),e.prev=5,t=R(t),e.next=9,t.methods.addMember(n,r,s).send({from:o});case 9:return e.abrupt("return",{status:!0});case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 15:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Y=function(){var e=F(a().mark((function e(t){var n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return e.next=3,H();case 3:return n=e.sent,e.prev=4,t=R(t),e.next=8,t.methods.getMembers().call({from:n});case 8:return r=e.sent,s=r[2].map((function(e){return{1:"View",2:"Admin"}[e]})),e.abrupt("return",{status:!0,result:{membersAddress:r[0],names:r[1],permissions:s}});case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 16:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=F(a().mark((function e(t,n,r,s){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r&&s)){e.next=15;break}return e.next=3,H();case 3:return o=e.sent,s=B(s),e.prev=5,t=R(t),e.next=9,t.methods.updateMember(n,r,s).send({from:o});case 9:return e.abrupt("return",{status:!0});case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 15:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),q=function(){var e=F(a().mark((function e(t,n,r){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return s=e.sent,e.prev=3,t=R(t),e.next=7,t.methods.deleteMember(n,r).send({from:s});case 7:return e.abrupt("return",{status:!0});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{status:!1,reason:e.t0});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),X=function(){var e=F(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}return e.next=3,H();case 3:return n=e.sent,e.prev=4,t=R(t),e.next=8,t.methods.getGroupName().call({from:n});case 8:return r=e.sent,e.abrupt("return",{status:!0,result:{groupName:r}});case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 15:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=F(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=14;break}return e.next=3,H();case 3:return r=e.sent,e.prev=4,t=R(t),e.next=8,t.methods.updateGroupName(n).send({from:r});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 14:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=F(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=14;break}return e.next=3,H();case 3:return r=e.sent,e.prev=4,t=R(t),e.next=8,t.methods.changeManager(n).send({from:r});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 14:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}();function $(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){$(s,r,a,o,u,"next",e)}function u(e){$(s,r,a,o,u,"throw",e)}o(void 0)}))}}var te=function(){var e=ee(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.eth.getAccounts();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=ee(a().mark((function e(t,n,r){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=14;break}return e.next=3,te();case 3:return s=e.sent,r=C().utils.toWei(""+r,"ether"),e.prev=5,e.next=8,N.methods.createCalendar(t,n).send({from:s,value:r});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 14:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),re=function(){var e=ee(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:return t=e.sent,e.prev=3,e.next=6,N.methods.getCalendars().call({from:t});case 6:return n=e.sent,e.abrupt("return",{status:!0,result:{joinedCalendars:n}});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{status:!1,reason:e.t0});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=ee(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return e.next=3,te();case 3:return n=e.sent,e.prev=4,e.next=7,N.methods.addCalendar(t).send({from:n});case 7:return e.abrupt("return",{status:!0});case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 13:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=ee(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:return n=e.sent,e.prev=3,e.next=6,N.methods.leaveCalendar(t).send({from:n});case 6:return e.abrupt("return",{status:!0});case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",{status:!1,reason:e.t0});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();function oe(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){oe(s,r,a,o,u,"next",e)}function u(e){oe(s,r,a,o,u,"throw",e)}o(void 0)}))}}var ie=function(){var e=ue(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.eth.getAccounts();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e,t){var n=[];return e&&n.push(e),n.push(t),n},pe=function(e){return{View:1,Edit:2,Admin:3}[e]},de=function(){var e=ue(a().mark((function e(t,n,r,s,o,u,i){var c,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r&&s&&o&&u)){e.next=16;break}return e.next=3,ie();case 3:return c=e.sent,p=ce(i,c),e.prev=5,t=J(t),e.next=9,t.methods.addEvent(n,r,s,o,u,p).send({from:c});case 9:return e.sent,e.abrupt("return",{status:!0});case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 16:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n,r,a,s,o,u){return e.apply(this,arguments)}}(),le=function(){var e=ue(a().mark((function e(t,n,r){var s,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=16;break}return e.next=3,ie();case 3:return s=e.sent,o=ce(r,s),e.prev=5,t=J(t),e.next=9,t.methods.getEvents(n,o).call({from:s});case 9:return u=e.sent,e.abrupt("return",{status:!0,result:{eventStartTimestamps:u[0],eventEndTimestamps:u[1],titles:u[2],descriptions:u[3],indexes:u[4]}});case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 16:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n,r){return e.apply(this,arguments)}}(),fe=function(){var e=ue(a().mark((function e(t,n,r,s,o,u,i,c){var p,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&s&&o&&u&&i)){e.next=15;break}return e.next=3,ie();case 3:return p=e.sent,d=ce(c,p),e.prev=5,t=J(t),e.next=9,t.methods.updateEvent(n,r,s,o,u,i,d).send({from:p});case 9:return e.abrupt("return",{status:!0});case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 15:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n,r,a,s,o,u,i){return e.apply(this,arguments)}}(),me=function(){var e=ue(a().mark((function e(t,n,r,s){var o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:return o=e.sent,u=ce(s,o),e.prev=4,t=J(t),e.next=8,t.methods.deleteEvent(n,r,u).send({from:o});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ve=function(){var e=ue(a().mark((function e(t,n){var r,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return e.next=3,ie();case 3:return r=e.sent,s=ce(n,r),e.prev=5,t=J(t),e.next=9,t.methods.getCalendarTitle(s).call({from:r});case 9:return o=e.sent,e.abrupt("return",{status:!0,result:{calendarTitle:o}});case 14:return e.prev=14,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 17:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=ue(a().mark((function e(t,n,r){var s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=15;break}return e.next=3,ie();case 3:return s=e.sent,o=ce(r,s),e.prev=5,t=J(t),e.next=9,t.methods.updateCalendarTitle(n,o).send({from:s});case 9:return e.abrupt("return",{status:!0});case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 15:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ye=function(){var e=ue(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=14;break}return e.next=3,ie();case 3:return r=e.sent,e.prev=4,t=J(t),e.next=8,t.methods.changeManager(n).send({from:r});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 14:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=ue(a().mark((function e(t,n,r,s,o){var u,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r&&s)){e.next=16;break}return e.next=3,ie();case 3:return u=e.sent,i=ce(o,u),r=pe(r),e.prev=6,t=J(t),e.next=10,t.methods.addCooperator(n,r,s,i).send({from:u});case 10:return e.abrupt("return",{status:!0});case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",{status:!1,reason:e.t0});case 16:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),xe=function(){var e=ue(a().mark((function e(t,n){var r,s,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return e.next=3,ie();case 3:return r=e.sent,s=ce(n,r),e.prev=5,t=J(t),e.next=9,t.methods.getCooperators(s).call({from:r});case 9:return o=e.sent,u=o[2].map((function(e){return{1:"View",2:"Edit",3:"Admin"}[e]})),e.abrupt("return",{status:!0,result:{cooperatorsAddress:o[0],names:o[1],permissions:u}});case 14:return e.prev=14,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 17:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}(),we=function(){var e=ue(a().mark((function e(t,n,r,s){var o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:return o=e.sent,u=ce(s,o),e.prev=4,t=J(t),e.next=8,t.methods.deleteCooperator(n,r,u).send({from:o});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),be=function(){var e=ue(a().mark((function e(t,n,r,s,o){var u,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r&&s)){e.next=16;break}return e.next=3,ie();case 3:return u=e.sent,i=ce(o,u),s=pe(s),e.prev=6,t=J(t),e.next=10,t.methods.updateCooperator(n,r,s,i).send({from:u});case 10:return e.abrupt("return",{status:!0});case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",{status:!1,reason:e.t0});case 16:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),je=n(63272),Ce=n(27411),Se=n(25552),Me=n(25142),Ee=n(60416),Te=n(80967),ke=n(60345),Ne=n(65927),Ze=n(30711),Ge=n(69249);function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function Le(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Ae(s,r,a,o,u,"next",e)}function u(e){Ae(s,r,a,o,u,"throw",e)}o(void 0)}))}}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e){return _e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_e(e)}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ze(e,t,n[t])}))}return e}function Je(e,t){return!t||"object"!==Ve(t)&&"function"!==typeof t?Oe(e):t}function Re(e,t){return Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Re(e,t)}var Ve=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var a=_e(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Je(this,n)}}var He=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(u,e);var t,n,r,o=Fe(u);function u(){var e;De(this,u),ze(Oe(e=o.apply(this,arguments)),"state",{open:!1,newGroupName:"",newGroupManagerName:"",groupAddressToJoin:"",selectedGroup:e.props.getSelectedGroup(),editedGroupName:e.props.getSelectedGroup().name,newMemberName:"",newMemberAddress:"",editedMemberName:"",joinedGroupMembers:e.props.getSelectedGroupMembers(),editingPermission:{},newMemberPermission:"View",loading:!1});var t=Oe(e);ze(Oe(e),"doLoading",function(){var e=Le(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0}),e.prev=1,e.next=4,n();case 4:window.alert("Transaction Success, refreshing the web page"),location.reload(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),window.alert(null!==(r="Transaction Failed: "+(null===e.t0||void 0===e.t0?void 0:e.t0.message))&&void 0!==r?r:e.t0);case 12:return e.prev=12,t.setState({loading:!1}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t){return e.apply(this,arguments)}}());var n=Oe(e);ze(Oe(e),"refreshState",Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({selectedGroup:n.props.getSelectedGroup(),editedGroupName:n.props.getSelectedGroup().name,joinedGroupMembers:n.props.getSelectedGroupMembers()});case 1:case"end":return e.stop()}}),e)})))),ze(Oe(e),"setNewGroupName",(function(t){e.setState({newGroupName:t.target.value})})),ze(Oe(e),"setNewGroupManagerName",(function(t){e.setState({newGroupManagerName:t.target.value})})),ze(Oe(e),"setGroupAddressToJoin",(function(t){e.setState({groupAddressToJoin:t.target.value})})),ze(Oe(e),"setEditedGroupName",(function(t){e.setState({editedGroupName:t.target.value})})),ze(Oe(e),"setNewMemberName",(function(t){e.setState({newMemberName:t.target.value})})),ze(Oe(e),"setNewMemberAddress",(function(t){e.setState({newMemberAddress:t.target.value})})),ze(Oe(e),"setEditedMember",(function(t){e.setState({editedMemberName:t.target.value})})),ze(Oe(e),"setNewMemberPermission",(function(t,n){e.setState({newMemberPermission:n.value})}));var r=Oe(e);ze(Oe(e),"createNewGroup",Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.newGroupName||!r.state.newGroupManagerName){e.next=3;break}return e.next=3,r.doLoading(Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(r.state.newGroupName,r.state.newGroupManagerName,r.props.getDonateVolume()||0);case 2:return e.next=4,r.props.refreshJoinedGroups();case 4:r.setState({open:!1});case 5:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)}))));var i=Oe(e);ze(Oe(e),"joinGroup",Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.state.groupAddressToJoin){e.next=3;break}return e.next=3,i.doLoading(Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(i.state.groupAddressToJoin);case 2:return e.next=4,i.props.refreshJoinedGroups();case 4:i.setState({open:!1});case 5:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)}))));var p=Oe(e);ze(Oe(e),"editGroupName",Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.state.editedGroupName){e.next=3;break}return e.next=3,p.doLoading(Le(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(p.state.selectedGroup.address,p.state.editedGroupName);case 2:return t=e.sent,console.log(t),e.next=6,p.props.refreshJoinedGroups();case 6:p.setState({open:!1});case 7:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)}))));var d=Oe(e);ze(Oe(e),"leaveGroup",Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.doLoading(Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(d.state.selectedGroup.index);case 2:return e.sent,e.next=5,d.props.refreshJoinedGroups();case 5:d.setState({open:!1});case 6:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))));var l=Oe(e);ze(Oe(e),"addNewMember",Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(l.state.newMemberName),console.log(l.state.newMemberAddress),!l.state.newMemberName||!l.state.newMemberAddress){e.next=5;break}return e.next=5,l.doLoading(Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(l.state.selectedGroup.address,l.state.newMemberAddress,l.state.newMemberName,l.state.newMemberPermission);case 2:return e.next=4,l.props.getSelectedGroupMembers();case 4:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)}))));var f=Oe(e);ze(Oe(e),"updateMemberName",function(){var e=Le(a().mark((function e(t,n){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.memberName.value,s=f.state.editingPermission[n],console.log(r),console.log(f.state.editingPermission),!r||!s){e.next=7;break}return e.next=7,f.doLoading(Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(f.state.selectedGroup.address,n,r,s);case 2:return e.next=4,f.props.getSelectedGroupMembers();case 4:case"end":return e.stop()}}),e)}))));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var m=Oe(e);ze(Oe(e),"removeMember",function(){var e=Le(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.doLoading(Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(m.state.selectedGroup.address,t,n);case 2:return e.next=4,m.props.getSelectedGroupMembers();case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var v=Oe(e);ze(Oe(e),"transferManager",function(){var e=Le(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.doLoading(Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(v.state.selectedGroup.address,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var h=Oe(e);return ze(Oe(e),"componentDidMount",Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Select Group"==h.state.selectedGroup.name){e.next=3;break}return e.next=3,h.doLoading(Le(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.props.getSelectedGroupMembers();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})))),ze(Oe(e),"createTap",(function(){return{menuItem:"Create",render:function(){return(0,s.jsxs)(Se.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(Se.Z.Field,{widths:"equal",children:[(0,s.jsx)(Me.Z,{size:"large",children:"Group Name:"}),(0,s.jsx)(Ee.Z,{placeholder:"New Group Name",onChange:e.setNewGroupName})]}),(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsx)(Me.Z,{size:"large",children:"Username:"}),(0,s.jsx)(Ee.Z,{placeholder:"Your identity",onChange:e.setNewGroupManagerName})]}),(0,s.jsx)(Se.Z.Field,{children:(0,s.jsx)(Te.Z,{onClick:e.createNewGroup,loading:e.state.loading,disabled:e.state.loading,children:"Create"})})]})}}})),ze(Oe(e),"joinTap",(function(){return{menuItem:"Join",render:function(){return(0,s.jsxs)(Se.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsx)(Me.Z,{size:"large",children:"Group Address:"}),(0,s.jsx)(Ee.Z,{placeholder:"Group you want to join",onChange:e.setGroupAddressToJoin})]}),(0,s.jsx)(Se.Z.Field,{children:(0,s.jsx)(Te.Z,{onClick:e.joinGroup,loading:e.state.loading,disabled:e.state.loading,children:"Join"})})]})}}})),ze(Oe(e),"selectedGroupTap",(function(){return{menuItem:e.state.selectedGroup.name,render:function(){return(0,s.jsxs)(c.Z,{children:[(0,s.jsxs)(Se.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsxs)(Me.Z,{size:"large",children:["Group Name (Address: ",e.state.selectedGroup.address,"):"]}),(0,s.jsx)(Ee.Z,{placeholder:"Name you would like to change to",onChange:e.setEditedGroupName,value:e.state.editedGroupName})]}),(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsx)(Te.Z,{onClick:e.editGroupName,loading:e.state.loading,disabled:e.state.loading,children:"Edit"}),(0,s.jsx)(Te.Z,{onClick:e.leaveGroup,loading:e.state.loading,disabled:e.state.loading,children:"Leave"})]})]}),(0,s.jsx)(ke.Z,{}),(0,s.jsxs)(Se.Z,{children:[(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsx)(Me.Z,{size:"large",children:"Member Name:"}),(0,s.jsx)(Ee.Z,{placeholder:"New Member Name",onChange:e.setNewMemberName})]}),(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsx)(Me.Z,{size:"large",children:"Member Address:"}),(0,s.jsx)(Ee.Z,{placeholder:"New Member Address",onChange:e.setNewMemberAddress})]}),(0,s.jsx)(Se.Z.Field,{children:(0,s.jsx)(Ce.Z,{style:{marginLeft:"1em"},onChange:e.setNewMemberPermission,options:[{text:"View",value:"View"},{text:"Admin",value:"Admin"}],defaultValue:"View"})}),(0,s.jsx)(Se.Z.Field,{children:(0,s.jsx)(Te.Z,{onClick:e.addNewMember,loading:e.state.loading,disabled:e.state.loading,children:"Add"})})]}),(0,s.jsx)(ke.Z,{}),(0,s.jsxs)(Ne.Z,{padded:!0,children:[(0,s.jsx)(Ne.Z.Header,{children:(0,s.jsxs)(Ne.Z.Row,{children:[(0,s.jsx)(Ne.Z.HeaderCell,{children:"Address"}),(0,s.jsx)(Ne.Z.HeaderCell,{children:"Name and Permission"}),(0,s.jsx)(Ne.Z.HeaderCell,{children:"Actions"})]})}),(0,s.jsx)(Ne.Z.Body,{children:e.state.joinedGroupMembers.map((function(t,n){return(0,s.jsxs)(Ne.Z.Row,{children:[(0,s.jsx)(Ne.Z.HeaderCell,{children:t.address}),(0,s.jsx)(Ne.Z.HeaderCell,{children:(0,s.jsxs)(Se.Z,{onSubmit:function(n){e.updateMemberName(n,t.address)},children:[(0,s.jsx)(Ee.Z,{name:"memberName",defaultValue:t.name}),(0,s.jsx)(Ce.Z,{style:{marginLeft:"1em"},onChange:function(n,r){var a={};a[t.address]=r.value,e.setState({editingPermission:Ie({},e.state.editingPermission,a)})},options:[{text:"View",value:"View"},{text:"Admin",value:"Admin"}],defaultValue:t.permission}),(0,s.jsx)(Te.Z,{loading:e.state.loading,disabled:e.state.loading,type:"submit",children:"Edit"})]})}),(0,s.jsxs)(Ne.Z.HeaderCell,{children:[(0,s.jsx)(Te.Z,{loading:e.state.loading,disabled:e.state.loading,onClick:function(r){e.removeMember(n,t.address)},children:"Remove"}),(0,s.jsx)(Te.Z,{loading:e.state.loading,disabled:e.state.loading,onClick:function(n){e.transferManager(t.address)},children:"Transfer"})]})]},n)}))})]})]})}}})),e}return t=u,(n=[{key:"render",value:function(){var e=this;return(0,s.jsxs)(Ze.Z,{style:{top:"15%"},open:this.state.open,size:"large",onClose:function(){return e.setState({open:!1})},onOpen:function(){e.refreshState(),e.setState({open:!0})},trigger:(0,s.jsx)(Te.Z,{children:"Manage Group"}),children:[(0,s.jsx)(Ze.Z.Header,{children:"Manage Group"}),(0,s.jsx)(Ze.Z.Content,{scrolling:!0,children:this.props.hasSelectedGroup?(0,s.jsx)(Ge.Z,{panes:[this.createTap(),this.joinTap(),this.selectedGroupTap()]}):(0,s.jsx)(Ge.Z,{panes:[this.createTap(),this.joinTap()]})})]})}}])&&Pe(t.prototype,n),r&&Pe(t,r),u}(i.Component),Be=He;function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function Qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Ye(s,r,a,o,u,"next",e)}function u(e){Ye(s,r,a,o,u,"throw",e)}o(void 0)}))}}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){We(e,t,n[t])}))}return e}function et(e,t){return!t||"object"!==nt(t)&&"function"!==typeof t?Ue(e):t}function tt(e,t){return tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tt(e,t)}var nt=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ke(e);if(t){var a=Ke(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return et(this,n)}}var at=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(u,e);var t,n,r,o=rt(u);function u(){var e;qe(this,u),We(Ue(e=o.apply(this,arguments)),"state",{open:!1,newCalendarName:"",newCalendarManagerName:"",calendarAddressToJoin:"",selectedCalendar:e.props.getSelectedCalendar(),editedCalendarName:e.props.getSelectedCalendar().title,newCooperatorName:"",newCooperatorAddress:"",editedCooperatorName:"",joinedCalendarCooperators:e.props.getSelectedCalendarCooperators(),editingPermission:{},newCooperatorPermission:"View",loading:!1});var t=Ue(e);We(Ue(e),"doLoading",function(){var e=Qe(a().mark((function e(n){var r,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0}),e.prev=1,e.next=4,n();case 4:r=e.sent,null===(s=null===r||void 0===r?void 0:r.status)||void 0===s||s?(window.alert("Transaction Success, refreshing the web page"),location.reload()):window.alert("Transaction Failed"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),window.alert(null!==(o="Transaction Failed: "+(null===e.t0||void 0===e.t0?void 0:e.t0.message))&&void 0!==o?o:e.t0);case 13:return e.prev=13,t.setState({loading:!1}),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(t){return e.apply(this,arguments)}}());var n=Ue(e);We(Ue(e),"refreshState",Qe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({selectedCalendar:n.props.getSelectedCalendar(),editedCalendarName:n.props.getSelectedCalendar().title,joinedCalendarCooperators:n.props.getSelectedCalendarCooperators()});case 1:case"end":return e.stop()}}),e)})))),We(Ue(e),"setNewCalendarName",(function(t){e.setState({newCalendarName:t.target.value})})),We(Ue(e),"setNewCalendarManagerName",(function(t){e.setState({newCalendarManagerName:t.target.value})})),We(Ue(e),"setCalendarAddressToJoin",(function(t){e.setState({calendarAddressToJoin:t.target.value})})),We(Ue(e),"setEditedCalendarName",(function(t){e.setState({editedCalendarName:t.target.value})})),We(Ue(e),"setNewCooperatorName",(function(t){e.setState({newCooperatorName:t.target.value})})),We(Ue(e),"setNewCooperatorAddress",(function(t){e.setState({newCooperatorAddress:t.target.value})})),We(Ue(e),"setEditedCooperator",(function(t){e.setState({editedCooperatorName:t.target.value})})),We(Ue(e),"setNewCooperatorPermission",(function(t,n){e.setState({newCooperatorPermission:n.value})}));var r=Ue(e);We(Ue(e),"createNewCalendar",Qe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.newCalendarName||!r.state.newCalendarManagerName){e.next=3;break}return e.next=3,r.doLoading(Qe(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(r.state.newCalendarName,r.state.newCalendarManagerName,r.props.getDonateVolume()||0);case 2:return t=e.sent,e.next=5,r.props.refreshJoinedCalendars();case 5:return r.setState({open:!1}),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)}))));var i=Ue(e);We(Ue(e),"joinCalendar",Qe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.state.calendarAddressToJoin){e.next=3;break}return e.next=3,i.doLoading(Qe(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(i.state.calendarAddressToJoin);case 2:return t=e.sent,e.next=5,i.props.refreshJoinedCalendars();case 5:return i.setState({open:!1}),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)}))));var p=Ue(e);We(Ue(e),"editCalendarName",Qe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.state.editedCalendarName){e.next=3;break}return e.next=3,p.doLoading(Qe(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(p.state.selectedCalendar.address,p.state.editedCalendarName,p.props.getSelectedGroup().address);case 2:return t=e.sent,e.next=5,p.props.refreshJoinedCalendars();case 5:return p.setState({open:!1}),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)}))));var d=Ue(e);We(Ue(e),"leaveCalendar",Qe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.doLoading(Qe(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(d.state.selectedCalendar.index);case 2:return t=e.sent,e.next=5,d.props.refreshJoinedCalendars();case 5:return d.setState({open:!1}),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))));var l=Ue(e);We(Ue(e),"addNewCooperator",Qe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.state.newCooperatorName||!l.state.newCooperatorAddress){e.next=3;break}return e.next=3,l.doLoading(Qe(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(l.state.selectedCalendar.address,l.state.newCooperatorAddress,l.state.newCooperatorPermission,l.state.newCooperatorName,l.props.getSelectedGroup().address);case 2:return t=e.sent,e.next=5,l.props.getSelectedCalendarCooperators();case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)}))));var f=Ue(e);We(Ue(e),"updateCooperatorName",function(){var e=Qe(a().mark((function e(t,n){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.cooperatorName.value,s=f.state.editingPermission[n],!r||!s){e.next=5;break}return e.next=5,f.doLoading(Qe(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(f.state.selectedCalendar.address,n,r,s,f.props.getSelectedGroup().address);case 2:return t=e.sent,e.next=5,f.props.getSelectedCalendarCooperators();case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var m=Ue(e);We(Ue(e),"removeCooperator",function(){var e=Qe(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.doLoading(Qe(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(m.state.selectedCalendar.address,t,n);case 2:return r=e.sent,e.next=5,m.props.getSelectedCalendarCooperators();case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var v=Ue(e);We(Ue(e),"transferManager",function(){var e=Qe(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.doLoading(Qe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(v.state.selectedCalendar.address,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var h=Ue(e);return We(Ue(e),"componentDidMount",Qe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Select Calendar"==h.state.selectedCalendar.title){e.next=3;break}return e.next=3,h.props.getSelectedCalendarCooperators();case 3:case"end":return e.stop()}}),e)})))),We(Ue(e),"createTap",(function(){return{menuItem:"Create",render:function(){return(0,s.jsxs)(Se.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(Se.Z.Field,{widths:"equal",children:[(0,s.jsx)(Me.Z,{size:"large",children:"Calendar Name:"}),(0,s.jsx)(Ee.Z,{placeholder:"New Timesheet Name",onChange:e.setNewCalendarName})]}),(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsx)(Me.Z,{size:"large",children:"Username:"}),(0,s.jsx)(Ee.Z,{placeholder:"Your identity",onChange:e.setNewCalendarManagerName})]}),(0,s.jsx)(Se.Z.Field,{children:(0,s.jsx)(Te.Z,{onClick:e.createNewCalendar,loading:e.state.loading,disabled:e.state.loading,children:"Create"})})]})}}})),We(Ue(e),"joinTap",(function(){return{menuItem:"Join",render:function(){return(0,s.jsxs)(Se.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsx)(Me.Z,{size:"large",children:"Calendar Address:"}),(0,s.jsx)(Ee.Z,{placeholder:"Project to record Time",onChange:e.setCalendarAddressToJoin})]}),(0,s.jsx)(Se.Z.Field,{children:(0,s.jsx)(Te.Z,{onClick:e.joinCalendar,loading:e.state.loading,disabled:e.state.loading,children:"Join"})})]})}}})),We(Ue(e),"selectedCalendarTap",(function(){return{menuItem:e.state.selectedCalendar.title,render:function(){return(0,s.jsxs)(c.Z,{children:[(0,s.jsxs)(Se.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsxs)(Me.Z,{size:"large",children:["Calendar Name (Address: ",e.state.selectedCalendar.address,"):"]}),(0,s.jsx)(Ee.Z,{placeholder:"Name you would like to change to",onChange:e.setEditedCalendarName,value:e.state.editedCalendarName})]}),(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsx)(Te.Z,{onClick:e.editCalendarName,loading:e.state.loading,disabled:e.state.loading,children:"Edit"}),(0,s.jsx)(Te.Z,{onClick:e.leaveCalendar,loading:e.state.loading,disabled:e.state.loading,children:"Leave"})]})]}),(0,s.jsx)(ke.Z,{}),(0,s.jsxs)(Se.Z,{children:[(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsx)(Me.Z,{size:"large",children:"Cooperator Name:"}),(0,s.jsx)(Ee.Z,{placeholder:"New Cooperator Name",onChange:e.setNewCooperatorName})]}),(0,s.jsxs)(Se.Z.Field,{children:[(0,s.jsx)(Me.Z,{size:"large",children:"Cooperator Address:"}),(0,s.jsx)(Ee.Z,{placeholder:"New Cooperator Address",onChange:e.setNewCooperatorAddress})]}),(0,s.jsx)(Se.Z.Field,{children:(0,s.jsx)(Ce.Z,{style:{marginLeft:"1em"},onChange:e.setNewCooperatorPermission,options:[{text:"View",value:"View"},{text:"Edit",value:"Edit"},{text:"Admin",value:"Admin"}],defaultValue:"View"})}),(0,s.jsx)(Se.Z.Field,{children:(0,s.jsx)(Te.Z,{onClick:e.addNewCooperator,loading:e.state.loading,disabled:e.state.loading,children:"Add"})})]}),(0,s.jsx)(ke.Z,{}),(0,s.jsxs)(Ne.Z,{padded:!0,children:[(0,s.jsx)(Ne.Z.Header,{children:(0,s.jsxs)(Ne.Z.Row,{children:[(0,s.jsx)(Ne.Z.HeaderCell,{children:"Address"}),(0,s.jsx)(Ne.Z.HeaderCell,{children:"Name and Permission"}),(0,s.jsx)(Ne.Z.HeaderCell,{children:"Actions"})]})}),(0,s.jsx)(Ne.Z.Body,{children:e.state.joinedCalendarCooperators.map((function(t,n){return(0,s.jsxs)(Ne.Z.Row,{children:[(0,s.jsx)(Ne.Z.HeaderCell,{children:t.address}),(0,s.jsx)(Ne.Z.HeaderCell,{children:(0,s.jsxs)(Se.Z,{onSubmit:function(n){e.updateCooperatorName(n,t.address)},children:[(0,s.jsx)(Ee.Z,{name:"cooperatorName",defaultValue:t.name}),(0,s.jsx)(Ce.Z,{style:{marginLeft:"1em"},onChange:function(n,r){var a={};a[t.address]=r.value,e.setState({editingPermission:$e({},e.state.editingPermission,a)})},options:[{text:"View",value:"View"},{text:"Edit",value:"Edit"},{text:"Admin",value:"Admin"}],defaultValue:t.permission}),(0,s.jsx)(Te.Z,{type:"submit",loading:e.state.loading,disabled:e.state.loading,children:"Edit"})]})}),(0,s.jsxs)(Ne.Z.HeaderCell,{children:[(0,s.jsx)(Te.Z,{onClick:function(r){e.removeCooperator(n,t.address)},loading:e.state.loading,disabled:e.state.loading,children:"Remove"}),(0,s.jsx)(Te.Z,{onClick:function(n){e.transferManager(t.address)},loading:e.state.loading,disabled:e.state.loading,children:"Transfer"})]})]},n)}))})]})]})}}})),e}return t=u,(n=[{key:"render",value:function(){var e=this;return(0,s.jsxs)(Ze.Z,{style:{top:"15%"},open:this.state.open,size:"large",onClose:function(){return e.setState({open:!1})},onOpen:function(){e.refreshState(),e.setState({open:!0})},trigger:(0,s.jsx)(Te.Z,{children:"Manage Timesheet"}),children:[(0,s.jsx)(Ze.Z.Header,{children:"Manage Timesheet"}),(0,s.jsx)(Ze.Z.Content,{scrolling:!0,children:this.props.hasSelectedCalendar?(0,s.jsx)(Ge.Z,{panes:[this.createTap(),this.joinTap(),this.selectedCalendarTap()]}):(0,s.jsx)(Ge.Z,{panes:[this.createTap(),this.joinTap()]})})]})}}])&&Xe(t.prototype,n),r&&Xe(t,r),u}(i.Component),st=at;function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function it(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){ut(s,r,a,o,u,"next",e)}function u(e){ut(s,r,a,o,u,"throw",e)}o(void 0)}))}}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}function lt(e,t){return!t||"object"!==mt(t)&&"function"!==typeof t?ot(e):t}function ft(e,t){return ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ft(e,t)}var mt=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var a=dt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return lt(this,n)}}var ht=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(n,e);var t=vt(n);function n(){var e;ct(this,n),pt(ot(e=t.apply(this,arguments)),"state",{selectedGroup:e.props.getSelectedGroup(),selectedCalendar:e.props.getSelectedCalendar(),joinedGroups:e.props.getJoinedGroups(),joinedCalendars:e.props.getJoinedCalendars(),groupsOptions:[],calendarOptions:[],selectedGroupMembers:[],selectedCalendarCooperators:[],loading:!1});var r=ot(e);pt(ot(e),"doLoading",function(){var e=it(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0}),e.prev=1,e.next=4,t();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),window.alert(null!==(n="Loading Failed: "+(null===e.t0||void 0===e.t0?void 0:e.t0.message))&&void 0!==n?n:e.t0);case 10:return e.prev=10,r.setState({loading:!1}),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,6,10,13]])})));return function(t){return e.apply(this,arguments)}}());var o=ot(e);pt(ot(e),"refreshState",it(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.setState({selectedGroup:o.props.getSelectedGroup(),selectedCalendar:o.props.getSelectedCalendar(),joinedGroups:o.props.getJoinedGroups(),joinedCalendars:o.props.getJoinedCalendars()}),o.getGroupsOptions(),o.getCalendarsOptions();case 3:case"end":return e.stop()}}),e)}))));var u=ot(e);pt(ot(e),"requestSelectedGroupMembers",it(a().mark((function e(){var t,n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(u.state.selectedGroup.address);case 2:if((t=e.sent).status){for(n=t.result,r=[],s=0;s<n.names.length;s++)r.push({index:s,address:n.membersAddress[s],name:n.names[s],permission:n.permissions[s]});u.setState({selectedGroupMembers:r})}case 4:case"end":return e.stop()}}),e)})))),pt(ot(e),"getSelectedGroupMembers",(function(){return e.state.selectedGroupMembers}));var i=ot(e);pt(ot(e),"requestSelectedCalendarCooperator",it(a().mark((function e(){var t,n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(i.state.selectedCalendar.address,i.state.selectedGroup.address);case 2:if((t=e.sent).status){for(n=t.result,r=[],s=0;s<n.names.length;s++)r.push({index:s,address:n.cooperatorsAddress[s],name:n.names[s],permission:n.permissions[s]});i.setState({selectedCalendarCooperators:r})}case 4:case"end":return e.stop()}}),e)})))),pt(ot(e),"getSelectedCalendarCooperators",(function(){return e.state.selectedCalendarCooperators}));var c=ot(e);pt(ot(e),"componentDidMount",it(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.props.refreshJoinedGroups();case 2:return e.next=4,c.props.refreshJoinedCalendars();case 4:return e.next=6,c.refreshState();case 6:case"end":return e.stop()}}),e)}))));var p=ot(e);pt(ot(e),"handleSelectGroup",function(){var e=it(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.doLoading(it(a().mark((function e(){var t,r,s,o,u,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.value,r=!0,s=!1,o=void 0,e.prev=2,u=p.state.joinedGroups[Symbol.iterator]();case 4:if(r=(i=u.next()).done){e.next=13;break}if((c=i.value).text!=t){e.next=10;break}return e.next=9,p.props.setSelectedGroup(t,c.value.address,c.value.index);case 9:return e.abrupt("break",13);case 10:r=!0,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),s=!0,o=e.t0;case 19:e.prev=19,e.prev=20,r||null==u.return||u.return();case 22:if(e.prev=22,!s){e.next=25;break}throw o;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.next=29,p.refreshState();case 29:return e.next=31,p.requestSelectedGroupMembers();case 31:case"end":return e.stop()}}),e,null,[[2,15,19,27],[20,,22,26]])}))));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var d=ot(e);return pt(ot(e),"handleSelectCalendar",function(){var e=it(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.doLoading(it(a().mark((function e(){var t,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.value,r=0;case 2:if(!(r<d.state.joinedCalendars.length)){e.next=11;break}if((s=d.state.joinedCalendars[r]).value.title!=t){e.next=8;break}return e.next=7,d.props.setSelectedCalendar(t,s.value.address,r);case 7:return e.abrupt("break",11);case 8:r++,e.next=2;break;case 11:return e.next=13,d.refreshState();case 13:return e.next=15,d.requestSelectedCalendarCooperator();case 15:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),pt(ot(e),"getGroupsOptions",(function(){e.setState({groupsOptions:e.state.joinedGroups.map((function(e){return{text:e.text,value:e.value.name}}))})})),pt(ot(e),"getCalendarsOptions",(function(){e.setState({calendarOptions:e.state.joinedCalendars.map((function(e){return{text:e.text,value:e.value.title}}))})})),pt(ot(e),"render",(function(){return(0,s.jsxs)(je.Z,{stackable:!0,style:{marginTop:"0.5em"},children:[(0,s.jsx)(je.Z.Item,{header:!0,children:"DeVo Portal"}),(0,s.jsxs)(je.Z.Menu,{position:"right",children:[(0,s.jsx)(je.Z.Item,{children:(0,s.jsx)(Ce.Z,{scrolling:!0,id:"groupDropdown",text:e.state.selectedGroup.name,loading:e.state.loading,options:e.state.groupsOptions,onChange:e.handleSelectGroup})}),(0,s.jsx)(je.Z.Item,{children:(0,s.jsx)(Ce.Z,{scrolling:!0,id:"calendarDropdown",text:e.state.selectedCalendar.title,loading:e.state.loading,options:e.state.calendarOptions,onChange:e.handleSelectCalendar})}),(0,s.jsx)(je.Z.Item,{children:(0,s.jsx)(Be,{refreshJoinedGroups:e.props.refreshJoinedGroups,getDonateVolume:e.props.getDonateVolume,getSelectedGroup:e.props.getSelectedGroup,getSelectedGroupMembers:e.getSelectedGroupMembers,hasSelectedGroup:"Select Group"!=e.state.selectedGroup.name})}),(0,s.jsx)(je.Z.Item,{children:(0,s.jsx)(st,{refreshJoinedCalendars:e.props.refreshJoinedCalendars,getDonateVolume:e.props.getDonateVolume,getSelectedCalendar:e.props.getSelectedCalendar,getSelectedCalendarCooperators:e.getSelectedCalendarCooperators,hasSelectedCalendar:"Select Calendar"!=e.state.selectedCalendar.title,getSelectedGroup:e.props.getSelectedGroup})})]})]})})),e}return n}(i.Component),yt=ht,gt=n(85775),xt=n(47257);function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}function St(e,t){return!t||"object"!==Et(t)&&"function"!==typeof t?wt(e):t}function Mt(e,t){return Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mt(e,t)}var Et=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ct(e);if(t){var a=Ct(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return St(this,n)}}var kt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(n,e);var t=Tt(n);function n(){var e;return bt(this,n),jt(wt(e=t.apply(this,arguments)),"setVolume",(function(t){e.props.setDonateVolume(t.target.value)})),jt(wt(e),"render",(function(){return(0,s.jsx)("div",{children:(0,s.jsxs)(gt.Z,{children:[(0,s.jsx)(gt.Z.Column,{width:4,children:(0,s.jsx)(xt.Z,{wrapped:!0,avatar:!0,as:"a",size:"large",href:"https://github.com/ramwong/431/",target:"_blank",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMGMtNi42MjYgMC0xMiA1LjM3My0xMiAxMiAwIDUuMzAyIDMuNDM4IDkuOCA4LjIwNyAxMS4zODcuNTk5LjExMS43OTMtLjI2MS43OTMtLjU3N3YtMi4yMzRjLTMuMzM4LjcyNi00LjAzMy0xLjQxNi00LjAzMy0xLjQxNi0uNTQ2LTEuMzg3LTEuMzMzLTEuNzU2LTEuMzMzLTEuNzU2LTEuMDg5LS43NDUuMDgzLS43MjkuMDgzLS43MjkgMS4yMDUuMDg0IDEuODM5IDEuMjM3IDEuODM5IDEuMjM3IDEuMDcgMS44MzQgMi44MDcgMS4zMDQgMy40OTIuOTk3LjEwNy0uNzc1LjQxOC0xLjMwNS43NjItMS42MDQtMi42NjUtLjMwNS01LjQ2Ny0xLjMzNC01LjQ2Ny01LjkzMSAwLTEuMzExLjQ2OS0yLjM4MSAxLjIzNi0zLjIyMS0uMTI0LS4zMDMtLjUzNS0xLjUyNC4xMTctMy4xNzYgMCAwIDEuMDA4LS4zMjIgMy4zMDEgMS4yMy45NTctLjI2NiAxLjk4My0uMzk5IDMuMDAzLS40MDQgMS4wMi4wMDUgMi4wNDcuMTM4IDMuMDA2LjQwNCAyLjI5MS0xLjU1MiAzLjI5Ny0xLjIzIDMuMjk3LTEuMjMuNjUzIDEuNjUzLjI0MiAyLjg3NC4xMTggMy4xNzYuNzcuODQgMS4yMzUgMS45MTEgMS4yMzUgMy4yMjEgMCA0LjYwOS0yLjgwNyA1LjYyNC01LjQ3OSA1LjkyMS40My4zNzIuODIzIDEuMTAyLjgyMyAyLjIyMnYzLjI5M2MwIC4zMTkuMTkyLjY5NC44MDEuNTc2IDQuNzY1LTEuNTg5IDguMTk5LTYuMDg2IDguMTk5LTExLjM4NiAwLTYuNjI3LTUuMzczLTEyLTEyLTEyeiIvPjwvc3ZnPg=="})}),(0,s.jsxs)(gt.Z.Column,{floated:"right",width:9,children:[(0,s.jsx)(Me.Z,{size:"large",children:"Donate Ether when create Group and Calendar (no limitation):"}),(0,s.jsx)(Ee.Z,{placeholder:"Ether",onChange:e.setVolume})]})]})})})),e}return n}(i.Component),Nt=kt,Zt=n(96827),Gt=n(30381),Ot=n.n(Gt),At=(n(90121),n(416)),Lt=n(20945);function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function zt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Pt(s,r,a,o,u,"next",e)}function u(e){Pt(s,r,a,o,u,"throw",e)}o(void 0)}))}}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e){return Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jt(e)}function Rt(e,t){return!t||"object"!==Ft(t)&&"function"!==typeof t?Dt(e):t}function Vt(e,t){return Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vt(e,t)}var Ft=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ht(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jt(e);if(t){var a=Jt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Rt(this,n)}}var Bt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(n,e);var t=Ht(n);function n(){var e;_t(this,n),It(Dt(e=t.apply(this,arguments)),"state",{events:e.props.getEvents(),isCreateEventModalOpen:!1,createEventModalSetOpen:"",newEventStart:new Date,newEventEnd:new Date,newEventTitle:"",newEventDescription:"",selectedEventStart:new Date,selectedEventEnd:new Date,selectedEventTitle:"",selectedEventDescription:"",selectedEventId:0,isManageEventModalOpen:!1,loading:!1,currentDate:new Date});var r=Dt(e);It(Dt(e),"doLoading",function(){var e=zt(a().mark((function e(t){var n,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r.props.getSelectedCalendar().address){e.next=4;break}window.alert("please select a calendar first"),e.next=20;break;case 4:return r.setState({loading:!0}),e.prev=5,e.next=8,t();case 8:n=e.sent,null===(s=null===n||void 0===n?void 0:n.status)||void 0===s||s?window.alert("Transaction Success"):window.alert("Transaction Failed"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),window.alert(null!==(o="Transaction Failed: "+(null===e.t0||void 0===e.t0?void 0:e.t0.message))&&void 0!==o?o:e.t0);case 17:return e.prev=17,r.setState({loading:!1}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,13,17,20]])})));return function(t){return e.apply(this,arguments)}}()),It(Dt(e),"handleSelectEvent",(function(t){e.setState({selectedEventStart:t.start,selectedEventEnd:t.end,selectedEventTitle:t.title,selectedEventDescription:t.description,isManageEventModalOpen:!0,selectedEventId:+t.id})})),It(Dt(e),"handleSelectSlot",(function(t){e.setState({isCreateEventModalOpen:!0,newEventStart:t.start,newEventEnd:t.end})})),It(Dt(e),"setIsCreateEventModalOpen",(function(t,n){e.setState({isCreateEventModalOpen:t,createEventModalSetOpen:n})})),It(Dt(e),"getIsCreateEventModalOpen",(function(){return e.state.isCreateEventModalOpen})),It(Dt(e),"getSelectedEvent",(function(){return e.state.selectedEvent}));var o=Dt(e);It(Dt(e),"createNewEvent",zt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.doLoading(zt(a().mark((function e(){var t,n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.state.newEventStart.getMonth(),n=o.state.newEventStart.getFullYear(),r=+new Date(n,t,1),e.next=5,de(o.props.getSelectedCalendar().address,r,+o.state.newEventStart,+o.state.newEventEnd,o.state.newEventTitle,o.state.newEventDescription,o.props.getSelectedGroup().address);case 5:return s=e.sent,e.next=8,o.props.refreshEvents(r);case 8:return o.setState({events:o.props.getEvents(),isCreateEventModalOpen:!1}),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))));var u=Dt(e);It(Dt(e),"componentDidMount",zt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setState({events:u.props.getEvents()});case 2:case"end":return e.stop()}}),e)}))));var i=Dt(e);It(Dt(e),"updateSelectedEvent",zt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.doLoading(zt(a().mark((function e(){var t,n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.state.selectedEventStart.getMonth(),n=i.state.selectedEventStart.getFullYear(),r=+new Date(n,t,1),e.next=5,fe(i.props.getSelectedCalendar().address,r,i.state.selectedEventId,+i.state.selectedEventStart,+i.state.selectedEventEnd,i.state.selectedEventTitle,i.state.selectedEventDescription,i.props.getSelectedGroup().address);case 5:return s=e.sent,e.next=8,i.props.refreshEvents(r);case 8:return i.setState({events:i.props.getEvents(),isManageEventModalOpen:!1}),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))));var p=Dt(e);It(Dt(e),"removeSelectedEvent",zt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.doLoading(zt(a().mark((function e(){var t,n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.state.selectedEventStart.getMonth(),n=p.state.selectedEventStart.getFullYear(),r=+new Date(n,t,1),e.next=5,me(p.props.getSelectedCalendar().address,r,p.state.selectedEventId,p.props.getSelectedGroup.address);case 5:return s=e.sent,e.next=8,p.props.refreshEvents(r);case 8:return p.setState({events:p.props.getEvents(),isManageEventModalOpen:!1}),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))));var d=Dt(e);return It(Dt(e),"updateEventList",function(){var e=zt(a().mark((function e(t){var n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getMonth(),r=t.getFullYear(),s=+new Date(r,n,1),e.next=5,d.props.refreshEvents(s);case 5:d.setState({events:d.props.getEvents(),currentDate:new Date(s)});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),It(Dt(e),"render",(function(){var t=(0,Zt.Zt)(Ot());return(0,s.jsxs)(c.Z,{className:"myCustomHeight",style:{height:"60em"},children:[(0,s.jsx)(Zt.f,{localizer:t,events:e.state.events,startAccessor:"start",endAccessor:"end",onSelectEvent:e.handleSelectEvent,onSelectSlot:e.handleSelectSlot,selectable:!0,date:e.state.currentDate,onNavigate:e.updateEventList}),(0,s.jsxs)(Ze.Z,{style:{top:"15%"},size:"large",onClose:function(){e.setState({isCreateEventModalOpen:!1})},onOpen:function(){e.setState({isCreateEventModalOpen:!0})},open:e.state.isCreateEventModalOpen,toggle:e.handleSelectSlot,children:[(0,s.jsx)(Ze.Z.Header,{children:"Create New Event"}),(0,s.jsx)(Ze.Z.Content,{children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(Me.Z,{size:"large",children:"Start:"}),(0,s.jsx)(Lt.Z,{onChange:function(t){return e.setState({newEventStart:t})},value:e.state.newEventStart}),(0,s.jsx)(Me.Z,{size:"large",children:"End:"}),(0,s.jsx)(Lt.Z,{onChange:function(t){return e.setState({newEventEnd:t})},value:e.state.newEventEnd}),(0,s.jsx)("br",{}),(0,s.jsx)(Me.Z,{size:"large",style:{marginTop:"1em"},children:"Title"}),(0,s.jsx)(Ee.Z,{onChange:function(t){e.setState({newEventTitle:t.target.value})}}),(0,s.jsx)("br",{}),(0,s.jsx)(Me.Z,{size:"large",style:{marginTop:"1em"},children:"Description"}),(0,s.jsx)("br",{}),(0,s.jsx)(At.Z,{onChange:function(t){e.setState({newEventDescription:t.target.value})}}),(0,s.jsx)("br",{}),(0,s.jsx)(Te.Z,{onClick:e.createNewEvent,loading:e.state.loading,disabled:e.state.loading,children:"Create"})]})})]}),(0,s.jsxs)(Ze.Z,{style:{top:"15%"},size:"large",onClose:function(){e.setState({isManageEventModalOpen:!1})},onOpen:function(){e.setState({isManageEventModalOpen:!0})},open:e.state.isManageEventModalOpen,toggle:e.handleSelectEvent,children:[(0,s.jsxs)(Ze.Z.Header,{children:["Manage ",e.state.selectedEventTitle]}),(0,s.jsx)(Ze.Z.Content,{children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(Me.Z,{size:"large",children:"Start:"}),(0,s.jsx)(Lt.Z,{onChange:function(t){return e.setState({selectedEventStart:value})},value:e.state.selectedEventStart}),(0,s.jsx)(Me.Z,{size:"large",children:"End:"}),(0,s.jsx)(Lt.Z,{onChange:function(){return e.setState({selectedEventEnd:value})},value:e.state.selectedEventEnd}),(0,s.jsx)("br",{}),(0,s.jsx)(Me.Z,{size:"large",style:{marginTop:"1em"},children:"Title"}),(0,s.jsx)(Ee.Z,{onChange:function(t){e.setState({selectedEventTitle:t.target.value})},value:e.state.selectedEventTitle}),(0,s.jsx)("br",{}),(0,s.jsx)(Me.Z,{size:"large",style:{marginTop:"1em"},children:"Description"}),(0,s.jsx)("br",{}),(0,s.jsx)(At.Z,{onChange:function(t){e.setState({selectedEventDescription:t.target.value})},value:e.state.selectedEventDescription}),(0,s.jsx)("br",{}),(0,s.jsx)(Te.Z,{onClick:e.updateSelectedEvent,loading:e.state.loading,disabled:e.state.loading,children:"Update"}),(0,s.jsx)(Te.Z,{onClick:e.removeSelectedEvent,loading:e.state.loading,disabled:e.state.loading,children:"Remove"})]})})]})]})})),e}return n}(i.Component),Ut=Bt,Yt=n(44623);function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qt(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function Xt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){qt(s,r,a,o,u,"next",e)}function u(e){qt(s,r,a,o,u,"throw",e)}o(void 0)}))}}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e){return $t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$t(e)}function en(e,t){return!t||"object"!==nn(t)&&"function"!==typeof t?Qt(e):t}function tn(e,t){return tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tn(e,t)}var nn=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function rn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$t(e);if(t){var a=$t(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return en(this,n)}}var an=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(n,e);var t=rn(n);function n(){var e;Wt(this,n),Kt(Qt(e=t.apply(this,arguments)),"state",{selectedGroup:{name:"Select Group",address:"",index:0},selectedCalendar:{title:"Select Calendar",address:"",index:0},joinedGroups:[{text:"loading",value:{index:0,name:"loading",address:""}}],joinedCalendars:[{text:"loading",value:{title:"loading",address:""}}],donateVolume:0,events:[],getGroupsError:{message:"",error:!1},getCalendarsError:{message:"",error:!1},getEventsError:{message:"",error:!1},loading:!0,update:!0});var r=Qt(e);Kt(Qt(e),"setSelectedGroup",function(){var e=Xt(a().mark((function e(t,n,s){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({selectedGroup:{name:t,address:n,index:s},selectedCalendar:{title:"Select Calendar",address:""}}),e.next=3,r.refreshJoinedCalendars();case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var o=Qt(e);Kt(Qt(e),"setSelectedCalendar",function(){var e=Xt(a().mark((function e(t,n,r){var s,u,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Date,u=s.getFullYear(),i=s.getMonth(),c=+new Date(u,i,1),e.next=6,o.setState({selectedCalendar:{title:t,address:n,index:r}});case 6:return e.next=8,o.refreshEvents(c);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var i=Qt(e);Kt(Qt(e),"refreshJoinedGroups",Xt(a().mark((function e(){var t,n,r,s,o,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setState({getGroupsError:{message:"",error:!1},loading:!0}),e.next=3,D();case 3:if(!(t=e.sent).status){e.next=20;break}n=t.result.joinedGroups,r=[],s=0;case 8:if(!(s<n.length)){e.next=17;break}return o=n[s],e.next=12,X(o);case 12:(u=e.sent).status&&(c=u.result.groupName,r.push({text:c,value:{name:c,address:o,index:s}}));case 14:s++,e.next=8;break;case 17:r?i.setState({joinedGroups:r,loading:!1}):i.setState({getGroupsError:{message:"Cannot get groups' name",error:!0}}),e.next=21;break;case 20:i.setState({getGroupsError:{message:t.reason,error:!0}});case 21:case"end":return e.stop()}}),e)}))));var c=Qt(e);Kt(Qt(e),"refreshJoinedCalendars",Xt(a().mark((function e(){var t,n,r,s,o,u,i,p,d,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.setState({getCalendarsError:{message:"",error:!1},loading:!0}),e.next=3,re();case 3:if(!(t=e.sent).status){e.next=36;break}n=t.result.joinedCalendars,r=[],s=!0,o=!1,u=void 0,e.prev=8,i=n[Symbol.iterator]();case 10:if(s=(p=i.next()).done){e.next=19;break}return d=p.value,e.next=14,ve(d,c.state.selectedGroup.address);case 14:(l=e.sent).status&&(f=l.result.calendarTitle,r.push({text:f,value:{title:f,address:d}}));case 16:s=!0,e.next=10;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),o=!0,u=e.t0;case 25:e.prev=25,e.prev=26,s||null==i.return||i.return();case 28:if(e.prev=28,!o){e.next=31;break}throw u;case 31:return e.finish(28);case 32:return e.finish(25);case 33:r?c.setState({joinedCalendars:r,loading:!1}):c.setState({getCalendarsError:{message:"Cannot get calendars' name",error:!0}}),e.next=37;break;case 36:c.setState({getCalendarsError:{message:t.reason,error:!0}});case 37:case"end":return e.stop()}}),e,null,[[8,21,25,33],[26,,28,32]])})))),Kt(Qt(e),"setDonateVolume",(function(t){e.setState({donateVolume:t})}));var p=Qt(e);return Kt(Qt(e),"refreshEvents",function(){var e=Xt(a().mark((function e(t){var n,r,s,o,u,i,c,d,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.setState({getGroupsError:{message:"",error:!1},loading:!0}),e.next=3,le(p.state.selectedCalendar.address,t,p.state.selectedGroup.address);case 3:if((n=e.sent).status){for(r=n.result,s=r.eventStartTimestamps,o=r.eventEndTimestamps,u=r.titles,i=r.descriptions,c=r.indexes,d=[],l=0;l<c.length;l++)d.push({id:c[l],title:u[l],start:new Date(+s[l]),end:new Date(+o[l]),description:i[l]});p.setState({events:d}),p.state.update&&p.setState({update:!1})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Kt(Qt(e),"getEvents",(function(){return e.state.events})),Kt(Qt(e),"getSelectedGroup",(function(){return e.state.selectedGroup})),Kt(Qt(e),"getSelectedCalendar",(function(){return e.state.selectedCalendar})),Kt(Qt(e),"getJoinedGroups",(function(){return e.state.joinedGroups})),Kt(Qt(e),"getJoinedCalendars",(function(){return e.state.joinedCalendars})),Kt(Qt(e),"getDonateVolume",(function(){return e.state.donateVolume})),Kt(Qt(e),"render",(function(){return(0,s.jsxs)(b,{children:[(0,s.jsx)(u(),{id:"3f07b76ef9f14eb3",children:"body{color:#3a004c}h1{font-weight:700}p{margin-bottom:10px}"}),(0,s.jsx)(yt,{setSelectedGroup:e.setSelectedGroup,getSelectedGroup:e.getSelectedGroup,setSelectedCalendar:e.setSelectedCalendar,getSelectedCalendar:e.getSelectedCalendar,getJoinedGroups:e.getJoinedGroups,getJoinedCalendars:e.getJoinedCalendars,refreshJoinedGroups:e.refreshJoinedGroups,refreshJoinedCalendars:e.refreshJoinedCalendars,getDonateVolume:e.getDonateVolume}),(0,s.jsx)(Ut,{getSelectedGroup:e.getSelectedGroup,getSelectedCalendar:e.getSelectedCalendar,getEvents:e.getEvents,refreshEvents:e.refreshEvents},e.state.update),(0,s.jsx)(Yt.Z,{style:{verticalAlign:"middle"},children:(0,s.jsx)(Nt,{floated:"bottom",setDonateVolume:e.setDonateVolume})})]})})),e}return n}(i.Component),sn=an},62859:function(){},75304:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},52361:function(){},94616:function(){},6567:function(){},56773:function(){},33557:function(){}},function(e){e.O(0,[482,770,714,885,962,774,888,179],(function(){return t=78581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);